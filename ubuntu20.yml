# Copyright Holder: TANIGUCHI Masaya
# Copyright Year: 2020
# License: MIT
# Project: Playbook Kallithea

- hosts: all
  vars:
    kallithea_root: /srv/kallithea
    kallithea_user: admin
    kallithea_password: 3WzeJftriWK4B2Zk
    kallithea_email: admin@example.com
    kallithea_repos: /srv/repos
    kallithea_server_name: example.com
  become: yes
  tasks:
    - name: Install dependencies via apt
      apt: 
        name:
          - apache2
          - build-essential
          - git
          - libffi-dev
          - python3-dev
          - python3-venv
          - nodejs
  roles:
    - kallithea
    - apache2
